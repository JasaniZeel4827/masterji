{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///D:/masterji/lib/env.ts"],"sourcesContent":["import { createEnv } from \"@t3-oss/env-nextjs\";\r\nimport { z } from \"zod\";\r\n\r\nexport const env = createEnv({\r\n  server: {\r\n    DATABASE_URL: z.string().url(),\r\n    BETTER_AUTH_SECRET: z.string().min(1),\r\n    BETTER_AUTH_URL: z.string().url(),\r\n    AUTH_GITHUB_CLIENT_ID: z.string().min(1),\r\n    AUTH_GITHUB_SECRET: z.string().min(1),\r\n    RESEND_API_KEY: z.string().min(1),\r\n    ARCJET_KEY: z.string().min(1),\r\n    AWS_ACCESS_KEY_ID: z.string().min(1),\r\n    AWS_SECRET_ACCESS_KEY: z.string().min(1),\r\n    AWS_ENDPOINT_URL_S3: z.string().min(1),\r\n    AWS_ENDPOINT_URL_IAM: z.string().min(1),\r\n    AWS_REGION: z.string().min(1),\r\n  },\r\n\r\n\r\n  client: {\r\n    NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES: z.string().min(1),\r\n  },\r\n  experimental__runtimeEnv: {\r\n    NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES: process.env.NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES,\r\n  },\r\n});"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,MAAM,CAAA,GAAA,+JAAA,CAAA,YAAS,AAAD,EAAE;IAC3B,QAAQ;QACN,cAAc,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;QAC5B,oBAAoB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACnC,iBAAiB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG;QAC/B,uBAAuB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACtC,oBAAoB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACnC,gBAAgB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC/B,YAAY,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC3B,mBAAmB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClC,uBAAuB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACtC,qBAAqB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACpC,sBAAsB,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACrC,YAAY,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC7B;IAGA,QAAQ;QACN,mCAAmC,+KAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACpD;IACA,0BAA0B;QACxB,iCAAiC;IACnC;AACF","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///D:/masterji/lib/S3Client.ts"],"sourcesContent":["import \"server-only\";\r\n\r\nimport { S3Client } from \"@aws-sdk/client-s3\";\r\nimport { env } from \"./env\";\r\n\r\nexport const S3 = new S3Client({\r\n    region: \"auto\",\r\n    endpoint: env.AWS_ENDPOINT_URL_S3,\r\n    forcePathStyle: false,\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AAEA;AACA;;;;AAEO,MAAM,KAAK,IAAI,iJAAA,CAAA,WAAQ,CAAC;IAC3B,QAAQ;IACR,UAAU,4GAAA,CAAA,MAAG,CAAC,mBAAmB;IACjC,gBAAgB;AACpB","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///D:/masterji/lib/arcjet.ts"],"sourcesContent":["import arcjet, {\r\n    detectBot,\r\n    fixedWindow,\r\n    protectSignup,\r\n    sensitiveInfo,\r\n    shield,\r\n    slidingWindow,\r\n} from \"@arcjet/next\"\r\nimport { env } from \"./env\";\r\n\r\n\r\nexport {\r\n    detectBot,\r\n    fixedWindow,\r\n    protectSignup,\r\n    sensitiveInfo,\r\n    shield,\r\n    slidingWindow\r\n};\r\n\r\n\r\n\r\nexport default arcjet({\r\n    key: env.ARCJET_KEY,\r\n\r\n    characteristics : [\"fingerprint\"],\r\n\r\n\r\n    \r\n    rules: [\r\n        shield({\r\n            mode: \"LIVE\",\r\n        }),\r\n    ],\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;AAQA;;;;uCAce,CAAA,GAAA,2JAAA,CAAA,UAAM,AAAD,EAAE;IAClB,KAAK,4GAAA,CAAA,MAAG,CAAC,UAAU;IAEnB,iBAAkB;QAAC;KAAc;IAIjC,OAAO;QACH,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE;YACH,MAAM;QACV;KACH;AACL","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///D:/masterji/app/api/s3/delete/route.ts"],"sourcesContent":["import { env } from \"@/lib/env\";\r\nimport { DeleteObjectCommand } from \"@aws-sdk/client-s3\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { S3 } from \"@/lib/S3Client\";\r\nimport arcjet, { detectBot, fixedWindow } from \"@/lib/arcjet\";\r\nimport { auth } from \"@/lib/auth\";\r\nimport { headers } from \"next/headers\";\r\nimport { requireAdmin } from \"@/app/data/admin/require-admin\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst aj = arcjet.withRule(\r\n  detectBot({\r\n    mode: \"LIVE\",\r\n    allow: [],\r\n  })\r\n).withRule(\r\n  fixedWindow({\r\n    mode: \"LIVE\",\r\n    window: \"1m\",\r\n    max: 5,\r\n  })\r\n);\r\n\r\n\r\n\r\n\r\n\r\nexport async function DELETE(request: Request) {\r\n  // const session = await requireAdmin();\r\n  try {\r\n    // const decision = await aj.protect(request, {\r\n    //   fingerprint: session?.user.id as string\r\n    // });\r\n\r\n    // if (decision.isDenied()) {\r\n    //   return NextResponse.json(\r\n    //     { error: \"this is not good\" },\r\n    //     { status: 429 })\r\n    // }\r\n    const body = await request.json();\r\n\r\n    const key = body.key;\r\n\r\n    if (!key) {\r\n      return NextResponse.json(\r\n        { error: \"Missing or invalid object key\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n    const command = new DeleteObjectCommand({\r\n      Bucket: env.NEXT_PUBLIC_S3_BUCKET_NAME_IMAGES,\r\n      Key: key\r\n    });\r\n\r\n\r\n    await S3.send(command);\r\n\r\n\r\n    return NextResponse.json(\r\n      { message: \"File deleted successfully\" },\r\n      { status: 200 }\r\n\r\n    );\r\n\r\n  } catch {\r\n    return NextResponse.json(\r\n      { error: \"Something went wrong\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;AAUA,MAAM,KAAK,+HAAA,CAAA,UAAM,CAAC,QAAQ,CACxB,CAAA,GAAA,iJAAA,CAAA,YAAS,AAAD,EAAE;IACR,MAAM;IACN,OAAO,EAAE;AACX,IACA,QAAQ,CACR,CAAA,GAAA,iJAAA,CAAA,cAAW,AAAD,EAAE;IACV,MAAM;IACN,QAAQ;IACR,KAAK;AACP;AAOK,eAAe,OAAO,OAAgB;IAC3C,wCAAwC;IACxC,IAAI;QACF,+CAA+C;QAC/C,4CAA4C;QAC5C,MAAM;QAEN,6BAA6B;QAC7B,8BAA8B;QAC9B,qCAAqC;QACrC,uBAAuB;QACvB,IAAI;QACJ,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,MAAM,KAAK,GAAG;QAEpB,IAAI,CAAC,KAAK;YACR,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QACA,MAAM,UAAU,IAAI,iJAAA,CAAA,sBAAmB,CAAC;YACtC,QAAQ,4GAAA,CAAA,MAAG,CAAC,iCAAiC;YAC7C,KAAK;QACP;QAGA,MAAM,iHAAA,CAAA,KAAE,CAAC,IAAI,CAAC;QAGd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAA4B,GACvC;YAAE,QAAQ;QAAI;IAIlB,EAAE,OAAM;QACN,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAuB,GAChC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}